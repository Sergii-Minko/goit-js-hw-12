{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/img/error.svg","../src/img/btn.png","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43345199-e8902240a3be22b0f4c9e0aa7';\n\nexport const fetchPhotosByQuery = query => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n","export default \"__VITE_ASSET__8479b7dd__\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAitJREFUWEe9lztvVDEUhGf+GYmgIRQggUhDKEDiUREKUpAorIACCqDiIUEBNCCQoEhoiIB/NsQr++rsufa99s1uXPo13xm/jinpEYB9AGsk/+EUiqQzAP4CmFHHBEZz5RBGfC4bABJN4lgZRFYrqJ4GREmDKexMh3Mkj5axJSSdBfA7t9QdQMGJDZK/TgIh6TyAw9I+WwCIEJ72EsmfUyAkXQTww4ztudoDiBCeepPk1xYISVcBfDFjsm5mASKEp98i+bkGQtI1AJ9M36KLRYAI4aO4SfLDEISkGwDemz6D7g0CRAgfzV2Sb3IQku4AeG3aRl0bBYgQPqptkq8shKR7AF6aulG35jdhzZpGCB/dDsnnse0BgGdmrqJLXq8aIAr5KPfihI/NxD13hoJsAihEa+fvXKl1thkgQuwCsFGH6j2ST2qFU7+pACmHsHozkqG+qTQDmAQmJ9QM0QRwnLyEzMlGOYsUoT6VJohqgJx4sjzjSjVEFcCQeAp7KsQoQI34SSDGHqPemo/t9FYnhp7jhwDsua5e1wzELsmnuWNTSki2AbyYurPjZeXvivsk7WM1nz6Xkt0C8NaIF+nHbhxJ3sXbJN/ZcT4p3QLw0XTIUo8J23ZJ3s3rJLtsyabllwF8M4N7tC3CDsK7eoXk924JJG0AODCDFiinCjsI7+4Fkofha7YG4I/p3NEtQ9hBeJfX/ed0TrVsYQex4HYASMdlnWT4Mq+8GNdn/wE5SR+dRCJW0AAAAABJRU5ErkJggg==\"","\nimport errorimgImp from '../img/error.svg';\nimport xbtnimg from '../img/btn.png';\n\nexport const createGalleryCardsTemplate = images => {\n  return images\n    .map(\n      imageData => `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${imageData.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${imageData.webformatURL}\"\n          alt=\"${imageData.tags}\"\n        />\n      </a>\n\n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes</b>\n          ${imageData.likes}\n        </p>\n        <p class=\"info-item\">\n          <b>Views</b>\n          ${imageData.views}\n        </p>\n        <p class=\"info-item\">\n          <b>Comments</b>\n          ${imageData.comments}\n        </p>\n        <p class=\"info-item\">\n          <b>Downloads</b>\n          ${imageData.downloads}\n        </p>\n      </div>\n    </li>\n  `\n    )\n    .join('');\n};\nconst customizeToast = () => {\n  const xbtn = document.querySelector('.iziToast-close');\n\n  xbtn.style.color = '#fff';\n  xbtn.style.backgroundImage = `url('${xbtnimg}')`;\n  xbtn.style.setProperty('opacity', '1');\n  xbtn.style.setProperty('fill', '#fff');\n  xbtn.style.setProperty('background-size', '12px');\n\n  const messagealert = document.querySelector('.iziToast');\n  messagealert.style.setProperty('width', '432px');\n  messagealert.style.setProperty('height', '88px');\n  messagealert.style.setProperty('display', 'flex');\n  messagealert.style.setProperty('align-items', 'center');\n  messagealert.style.setProperty('justify-content', 'center');\n};\n\nexport const getToastSettings = () => {\n  return {\n    // title: 'Error',\n    message: `Sorry, there are no images matching your search query. Please, try again!`,\n    color: '#EF4040',\n    titleColor: '#fff',\n    messageColor: '#fff',\n    progressBarColor: '#B51B1B',\n    iconColor: '#fff',\n    iconUrl: errorimgImp,\n    position: 'topRight',\n    timeout: 2000,\n    onOpening: customizeToast,\n  };\n};\n","import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport {\n  createGalleryCardsTemplate,\n  getToastSettings,\n} from './js/render-functions';\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\nconst inputEl = document.querySelector('.js-search-input');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const searchQuery = inputEl.value.trim();\n\n  if (searchQuery === '' || searchQuery === null) {\n    galleryEl.innerHTML = '';\n\n    inputEl.value = '';\n\n    iziToast.error(getToastSettings());\n\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n  loaderEl.classList.add('is-visible');\n\n  // імітація затримки запиту на сервер\n  setTimeout(() => {\n    fetchPhotosByQuery(searchQuery)\n      .finally(() => {\n        loaderEl.classList.remove('is-visible');\n      })\n      .then(data => {\n        console.log(data.hits); // Отримання масиву hits\n\n        if (data.hits.length === 0) {\n          galleryEl.innerHTML = '';\n          inputEl.value = '';\n          iziToast.error(getToastSettings());\n\n          return;\n        }\n\n        let photos = data.hits; // Отримання масиву фотографій\n        galleryEl.innerHTML = createGalleryCardsTemplate(photos);\n        lightbox.refresh();\n\n        lightbox.on('shown.simplelightbox', () => {\n          const background = document.querySelector('.sl-overlay');\n          const nextBtn = document.querySelector('.sl-next');\n          const prevBtn = document.querySelector('.sl-prev');\n          const closeBtn = document.querySelector('.sl-close');\n\n          background.style.backgroundColor = '#2E2F42';\n          nextBtn.style.color = '#fff';\n          prevBtn.style.color = '#fff';\n          closeBtn.style.color = '#fff';\n        });\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }, 2000); //  Затримка 2 секунди\n};\n\nconst submitButtonEl = document.querySelector('.search-btn');\nsubmitButtonEl.addEventListener('click', onSearchFormSubmit);\n"],"names":["BASE_URL","API_KEY","fetchPhotosByQuery","query","searchParams","response","errorimgImp","xbtnimg","createGalleryCardsTemplate","images","imageData","customizeToast","xbtn","messagealert","getToastSettings","galleryEl","loaderEl","inputEl","lightbox","SimpleLightbox","onSearchFormSubmit","event","searchQuery","iziToast","data","photos","background","nextBtn","prevBtn","closeBtn","err","submitButtonEl"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAEHC,EAAqBC,GAAS,CACzC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECnBeC,EAAA,2CCAAC,EAAA,61BCIFC,EAA6BC,GACjCA,EACJ,IACCC,GAAa;AAAA;AAAA,sCAEmBA,EAAU,aAAa;AAAA;AAAA;AAAA,iBAG5CA,EAAU,YAAY;AAAA,iBACtBA,EAAU,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAOnBA,EAAU,KAAK;AAAA;AAAA;AAAA;AAAA,YAIfA,EAAU,KAAK;AAAA;AAAA;AAAA;AAAA,YAIfA,EAAU,QAAQ;AAAA;AAAA;AAAA;AAAA,YAIlBA,EAAU,SAAS;AAAA;AAAA;AAAA;AAAA,GAK1B,EACA,KAAK,EAAE,EAENC,EAAiB,IAAM,CAC3B,MAAMC,EAAO,SAAS,cAAc,iBAAiB,EAErDA,EAAK,MAAM,MAAQ,OACnBA,EAAK,MAAM,gBAAkB,QAAQL,CAAO,KAC5CK,EAAK,MAAM,YAAY,UAAW,GAAG,EACrCA,EAAK,MAAM,YAAY,OAAQ,MAAM,EACrCA,EAAK,MAAM,YAAY,kBAAmB,MAAM,EAEhD,MAAMC,EAAe,SAAS,cAAc,WAAW,EACvDA,EAAa,MAAM,YAAY,QAAS,OAAO,EAC/CA,EAAa,MAAM,YAAY,SAAU,MAAM,EAC/CA,EAAa,MAAM,YAAY,UAAW,MAAM,EAChDA,EAAa,MAAM,YAAY,cAAe,QAAQ,EACtDA,EAAa,MAAM,YAAY,kBAAmB,QAAQ,CAC5D,EAEaC,EAAmB,KACvB,CAEL,QAAS,4EACT,MAAO,UACP,WAAY,OACZ,aAAc,OACd,iBAAkB,UAClB,UAAW,OACX,QAASR,EACT,SAAU,WACV,QAAS,IACT,UAAWK,CACf,GC9DMI,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAcL,EAAQ,MAAM,KAAI,EAEtC,GAAIK,IAAgB,IAAMA,IAAgB,KAAM,CAC9CP,EAAU,UAAY,GAEtBE,EAAQ,MAAQ,GAEhBM,EAAS,MAAMT,EAAgB,CAAE,EAEjC,MACD,CAEDC,EAAU,UAAY,GACtBC,EAAS,UAAU,IAAI,YAAY,EAGnC,WAAW,IAAM,CACfd,EAAmBoB,CAAW,EAC3B,QAAQ,IAAM,CACbN,EAAS,UAAU,OAAO,YAAY,CAC9C,CAAO,EACA,KAAKQ,GAAQ,CAGZ,GAFA,QAAQ,IAAIA,EAAK,IAAI,EAEjBA,EAAK,KAAK,SAAW,EAAG,CAC1BT,EAAU,UAAY,GACtBE,EAAQ,MAAQ,GAChBM,EAAS,MAAMT,EAAgB,CAAE,EAEjC,MACD,CAED,IAAIW,EAASD,EAAK,KAClBT,EAAU,UAAYP,EAA2BiB,CAAM,EACvDP,EAAS,QAAO,EAEhBA,EAAS,GAAG,uBAAwB,IAAM,CACxC,MAAMQ,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,SAAS,cAAc,WAAW,EAEnDH,EAAW,MAAM,gBAAkB,UACnCC,EAAQ,MAAM,MAAQ,OACtBC,EAAQ,MAAM,MAAQ,OACtBC,EAAS,MAAM,MAAQ,MACjC,CAAS,CACT,CAAO,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACvB,CAAO,CACJ,EAAE,GAAI,CACT,EAEMC,EAAiB,SAAS,cAAc,aAAa,EAC3DA,EAAe,iBAAiB,QAASX,CAAkB"}