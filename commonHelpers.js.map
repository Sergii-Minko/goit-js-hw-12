{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/img/error.svg","../src/img/btn.png","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\nconst API_KEY = '43345199-e8902240a3be22b0f4c9e0aa7';\n\nexport const fetchPhotosByQuery = (query, pageNumber = 1) => {\n  const axiosOptions = {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      page: pageNumber,\n      per_page: 15,\n    },\n  };\n\n  return axios.get(``, axiosOptions);\n};\n","export default \"__VITE_ASSET__8479b7dd__\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAitJREFUWEe9lztvVDEUhGf+GYmgIRQggUhDKEDiUREKUpAorIACCqDiIUEBNCCQoEhoiIB/NsQr++rsufa99s1uXPo13xm/jinpEYB9AGsk/+EUiqQzAP4CmFHHBEZz5RBGfC4bABJN4lgZRFYrqJ4GREmDKexMh3Mkj5axJSSdBfA7t9QdQMGJDZK/TgIh6TyAw9I+WwCIEJ72EsmfUyAkXQTww4ztudoDiBCeepPk1xYISVcBfDFjsm5mASKEp98i+bkGQtI1AJ9M36KLRYAI4aO4SfLDEISkGwDemz6D7g0CRAgfzV2Sb3IQku4AeG3aRl0bBYgQPqptkq8shKR7AF6aulG35jdhzZpGCB/dDsnnse0BgGdmrqJLXq8aIAr5KPfihI/NxD13hoJsAihEa+fvXKl1thkgQuwCsFGH6j2ST2qFU7+pACmHsHozkqG+qTQDmAQmJ9QM0QRwnLyEzMlGOYsUoT6VJohqgJx4sjzjSjVEFcCQeAp7KsQoQI34SSDGHqPemo/t9FYnhp7jhwDsua5e1wzELsmnuWNTSki2AbyYurPjZeXvivsk7WM1nz6Xkt0C8NaIF+nHbhxJ3sXbJN/ZcT4p3QLw0XTIUo8J23ZJ3s3rJLtsyabllwF8M4N7tC3CDsK7eoXk924JJG0AODCDFiinCjsI7+4Fkofha7YG4I/p3NEtQ9hBeJfX/ed0TrVsYQex4HYASMdlnWT4Mq+8GNdn/wE5SR+dRCJW0AAAAABJRU5ErkJggg==\"","import errorimgImp from '../img/error.svg';\nimport xbtnimg from '../img/btn.png';\n\nexport const createGalleryCardsTemplate = images => {\n  return images\n    .map(\n      imageData => `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${imageData.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${imageData.webformatURL}\"\n          alt=\"${imageData.tags}\"\n        />\n      </a>\n\n      <div class=\"info\">\n        <p class=\"info-item\">\n          <b>Likes</b>\n          ${imageData.likes}\n        </p>\n        <p class=\"info-item\">\n          <b>Views</b>\n          ${imageData.views}\n        </p>\n        <p class=\"info-item\">\n          <b>Comments</b>\n          ${imageData.comments}\n        </p>\n        <p class=\"info-item\">\n          <b>Downloads</b>\n          ${imageData.downloads}\n        </p>\n      </div>\n    </li>\n  `\n    )\n    .join('');\n};\nconst customizeToast = () => {\n  const xbtn = document.querySelector('.iziToast-close');\n\n  xbtn.style.color = '#fff';\n  xbtn.style.backgroundImage = `url('${xbtnimg}')`;\n  xbtn.style.setProperty('opacity', '1');\n  xbtn.style.setProperty('fill', '#fff');\n  xbtn.style.setProperty('background-size', '12px');\n\n  const messagealert = document.querySelector('.iziToast');\n  messagealert.style.setProperty('width', '432px');\n  messagealert.style.setProperty('height', '88px');\n  messagealert.style.setProperty('display', 'flex');\n  messagealert.style.setProperty('align-items', 'center');\n  messagealert.style.setProperty('justify-content', 'center');\n};\n\nexport const getToastSettings = () => {\n  return {\n    // title: 'Error',\n    message: `Sorry, there are no images matching your search query. Please, try again!`,\n    color: '#EF4040',\n    titleColor: '#fff',\n    messageColor: '#fff',\n    progressBarColor: '#B51B1B',\n    iconColor: '#fff',\n    iconUrl: errorimgImp,\n    position: 'topRight',\n    timeout: 2000,\n    onOpening: customizeToast,\n  };\n};\n\nexport const customizeLightbox = () => {\n  const background = document.querySelector('.sl-overlay');\n  const nextBtn = document.querySelector('.sl-next');\n  const prevBtn = document.querySelector('.sl-prev');\n  const closeBtn = document.querySelector('.sl-close');\n\n  background.style.backgroundColor = '#2E2F42';\n  nextBtn.style.color = '#fff';\n  prevBtn.style.color = '#fff';\n  closeBtn.style.color = '#fff';\n};\n\nexport const getToastSettingsEnd = () => {\n  return {\n    title: '',\n    message: `We're sorry, but you've reached the end of search results.!`,\n    messageColor: '#fff',\n    position: 'topRight',\n    timeout: 2000,\n    onOpening: customizeToast,\n  };\n};\n","import SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport {\n  createGalleryCardsTemplate,\n  getToastSettings,\n  getToastSettingsEnd,\n  customizeLightbox,\n} from './js/render-functions';\nconst galleryEl = document.querySelector('.js-gallery');\nconst submitButtonEl = document.querySelector('.search-btn');\nconst moresearchEl = document.querySelector('.more-search-btn');\nconst loaderEl = document.querySelector('.js-loader');\nconst inputEl = document.querySelector('.js-search-input');\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\nlet pageNumber = 1;\nconst perPage = 15;\n\nconst onSearchFormSubmit = morePhotos => async event => {\n  event.preventDefault();\n  const searchQuery = inputEl.value.trim();\n\n  if (!morePhotos && (searchQuery === '' || searchQuery === null)) {\n    galleryEl.innerHTML = '';\n    inputEl.value = '';\n    iziToast.error(getToastSettings());\n    return;\n  }\n  if (!morePhotos) {\n    galleryEl.innerHTML = '';\n  }\n  try {\n    loaderEl.classList.add('is-visible');\n\n    const { data } = await fetchPhotosByQuery(searchQuery, pageNumber);\n    loaderEl.classList.remove('is-visible');\n    const totalPages = Math.ceil(data.totalHits / perPage);\n    if (!morePhotos && data.hits.length === 0) {\n      galleryEl.innerHTML = '';\n      inputEl.value = '';\n      iziToast.error(getToastSettings());\n      pageNumber = 1;\n      loaderEl.classList.remove('is-visible');\n      moresearchEl.classList.remove('is-visible');\n      return;\n    }\n    const getHeightImgCard = () =>\n      document.querySelector('.gallery-item').getBoundingClientRect();\n    if (morePhotos) {\n      galleryEl.insertAdjacentHTML(\n        'beforeend',\n        createGalleryCardsTemplate(data.hits)\n      );\n      window.scrollBy({\n        top: getHeightImgCard().height * 2,\n        left: 0,\n        behavior: 'smooth',\n      });\n    } else {\n      galleryEl.innerHTML = createGalleryCardsTemplate(data.hits);\n    }\n    lightbox.refresh();\n\n    lightbox.on('shown.simplelightbox', customizeLightbox);\n\n    pageNumber = pageNumber + 1;\n\n    if (pageNumber <= totalPages) {\n      moresearchEl.classList.add('is-visible');\n    } else {\n      moresearchEl.classList.remove('is-visible');\n      iziToast.info(getToastSettingsEnd());\n    }\n  } catch (err) {\n    loaderEl.classList.remove('is-visible');\n    moresearchEl.classList.remove('is-visible');\n    console.log(err);\n  }\n};\n\nsubmitButtonEl.addEventListener('click', onSearchFormSubmit(false));\nmoresearchEl.addEventListener('click', onSearchFormSubmit(true));\n"],"names":["axios","API_KEY","fetchPhotosByQuery","query","pageNumber","axiosOptions","errorimgImp","xbtnimg","createGalleryCardsTemplate","images","imageData","customizeToast","xbtn","messagealert","getToastSettings","customizeLightbox","background","nextBtn","prevBtn","closeBtn","getToastSettingsEnd","galleryEl","submitButtonEl","moresearchEl","loaderEl","inputEl","lightbox","SimpleLightbox","perPage","onSearchFormSubmit","morePhotos","event","searchQuery","iziToast","data","totalPages","getHeightImgCard","err"],"mappings":"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"}